{% extends 'app.twig' %}
{% block content %}
<div>
    Тут должны быть фильтры
</div>
<table class="table">
    <thead>
    <tr>
        <th scope="col" class="col">#</th>
        <th scope="col" class="col-5">Проблема</th>
        <th scope="col" class="col-5">Решение</th>
        <th scope="col" style="width: 120px!important;">Оценка</th>
    </tr>
    </thead>
    <tbody>
    {% for row in rows %}
    <tr>
        <th scope="row">{{ row.id }}</th>
        <td>{{ row.problem }}</td>
        <td>{{ row.solution }}</td>
        <td {{ (row.mark == 0) ? 'onmouseleave="onRatingOut(event)"' : '' }}>
            {% if row.mark != 0 %}
                {% for i in range(1, row.mark) %}

                    <i class="bi bi-star-fill"></i>

                {% endfor %}
            {% endif %}

            {% if row.mark != 5 %}
                {% for i in range(1, 5-row.mark) %}

                    {% if row.mark == 0 %}
                        <i class="bi bi-star" role="button" onmouseover="onRatingHover(event)" ></i>
                    {% else %}
                        <i class="bi bi-star"></i>
                    {% endif %}
{#                    <i class="bi bi-star" {{ (row.mark == 0) ? 'onmouseover="onRatingHover(event, ' ~ loop.index ~ ')"' : '' }}></i>#}

                {% endfor %}
            {% endif %}

{#            {% for i in range(1, 1)|slice(0, row.mark) %}#}
{#            <i class="bi bi-star-fill"></i>#}
{#            {% endfor %}#}

{#            {% for i in range(0, 5-row.mark)|slice(0, 5-row.mark) %}#}
{#            <i class="bi bi-star"></i>#}
{#            {% endfor %}#}
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}

{% block scripts %}
    <script src="/scripts/scripts.js"></script>
{% endblock %}